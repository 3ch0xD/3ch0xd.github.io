var jscss=document.createElement("link");jscss.setAttribute("id","js-only-style");jscss.setAttribute("rel","stylesheet");jscss.setAttribute("type","text/css");jscss.setAttribute("media","screen");jscss.setAttribute("href","/oldschool-pc-fonts/css/oldschool-pc-fonts-jsonly.css?ver=II.II");document.getElementsByTagName("head")[0].appendChild(jscss);function switchFont(fontnum,reAnchor){if((sessionStorage.getItem("disablepixelfonts")!=null)&&(fontnum!=7)){return;}
var sheetToRemove=document.getElementById("modified-font-style");if(sheetToRemove){document.getElementsByTagName("head")[0].removeChild(sheetToRemove);}
var fontName="IBM VGA 8x16";if(fontnum>1){var ele=document.createElement("link");ele.setAttribute("id","modified-font-style");ele.setAttribute("rel","stylesheet");ele.setAttribute("type","text/css");ele.setAttribute("media","screen");switch(fontnum){case 2:ele.setAttribute("href","/oldschool-pc-fonts/css/font-ibmbios2y.css?ver=II.II");fontName="IBM BIOS-2y";break;case 3:ele.setAttribute("href","/oldschool-pc-fonts/css/font-sperrypc8x16.css?ver=II.II");fontName="SperryPC 8x16";break;case 4:ele.setAttribute("href","/oldschool-pc-fonts/css/font-amstrad2y.css?ver=II.II");fontName="Amstrad PC─2y";break;case 5:ele.setAttribute("href","/oldschool-pc-fonts/css/font-toshibasat8x14.css?ver=II.II");fontName="ToshibaSat 8x14";break;case 6:ele.setAttribute("href","/oldschool-pc-fonts/css/font-cordatappc400.css?ver=II.II");fontName="Cordata PPC-400";break;case 7:ele.setAttribute("href","/oldschool-pc-fonts/css/font-firamono.css?ver=II.II");fontName="[disabled]";break;}
var sheetToPrecede=document.getElementById("mq-style");document.getElementsByTagName("head")[0].insertBefore(ele,sheetToPrecede);}
if(fontnum<7){sessionStorage.setItem('userfont',fontnum);}
if(fontnum!=7){for(i=1;i<7;++i){if(fontnum==i){document.getElementById("selectfont"+i).className="selectactive on";}else{document.getElementById("selectfont"+i).className="on";}}}
if(fontnum>1){waitForLayoutChange(function(){document.getElementById("currentfont").innerHTML=fontName;document.body.style.visibility="visible";if(reAnchor&&location.hash&&(location.hash!="#-"))jumpToAnchor();});}else{document.getElementById("currentfont").innerHTML=fontName;document.body.style.visibility="visible";if(reAnchor&&location.hash&&(location.hash!="#-"))jumpToAnchor();}}
function jumpToAnchor(){var newTop=0,element=document.getElementById(location.hash.substring(1));do{newTop+=element.offsetTop||0;element=element.offsetParent;}while(element);window.scrollTo({top:newTop});}
function waitForLayoutChange(cb){var intervalId=setInterval(function(){var rfyc=-30;rfyc=document.scrollingElement.scrollTop;if(rfyc!==-30){clearTimeout(timeoutId);clearInterval(intervalId);cb();}},15);var timeoutId=setTimeout(function(){clearInterval(intervalId);cb();},3000);}
function updateFonts(reAnchor){var luserfont=Number(sessionStorage.getItem('userfont'));if((luserfont==null)||(luserfont==0)){luserfont=1;}
if(sessionStorage.getItem("disablepixelfonts")==null){document.getElementById("togglefonts").className="on";document.getElementById("togglefonts").innerHTML="[✓]";switchFont(luserfont,reAnchor);}else{for(i=1;i<7;++i){document.getElementById("selectfont"+i).className="off";}
document.getElementById("togglefonts").className="off";document.getElementById("togglefonts").innerHTML="[X]";switchFont(7,reAnchor);}}
function toggleFonts(){if(sessionStorage.getItem("disablepixelfonts")!=null){sessionStorage.removeItem("disablepixelfonts");}else{sessionStorage.setItem("disablepixelfonts",1);}
updateFonts(false);}
function roundLeftOffset(elementId){var left,element=document.getElementById(elementId);if(element){left=element.getBoundingClientRect().left;if(!Number.isInteger(left)){element.style.paddingLeft="0.5px";}}}
window.onload=function(){roundLeftOffset("nav");roundLeftOffset("content");roundLeftOffset("footer");roundLeftOffset("sidebar");updateFonts(true);}
window.onresize=function(){roundLeftOffset("nav");roundLeftOffset("content");roundLeftOffset("footer");roundLeftOffset("sidebar");}